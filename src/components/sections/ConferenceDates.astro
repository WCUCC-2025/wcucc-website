---
import ConfImg from '../../../public/ConferenceDates.svg';
import SectionIconTitle from '@src/components/elements/SectionIconTitle.astro';
---

<section
	id="conference-date"
	class="flex h-screen flex-col items-start justify-center bg-gradient-to-b from-[#14232d] to-[#111B21]"
>
	<div class="ml-auto flex w-4/5 flex-col items-start justify-center">
		<SectionIconTitle title="Conference Dates | May 7 - 12, 2024" icon="ri-calendar-event-fill" color="bg-wcucc-coral-400" text="white" />
		<div class="flex w-4/5 flex-row items-center justify-between">
			<div class="flex flex-row items-center justify-center">
				<h1 id="countdow"
					class="fade-in-left mr-5 text-[12rem] font-bold text-white sm:text-[24cqi]"
				>
				</h1>
				<div
					class="fade-in-left flex flex-col items-start justify-center text-5xl font-bold text-white sm:text-[24cqi]"
				>
					<h1 class="p-2">DAYS</h1><h1 class="p-2">TO GO</h1>
				</div>
			</div>
			<div><img src={ConfImg.src} /></div>
		</div>
	</div>
</section>

<script>
	function updateCountdown() {
		const targetDate = new Date('2025-05-07T23:59:59').getTime();
		const now = new Date().getTime();
		const timeLeft = targetDate - now;

		const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));

		document.getElementById('countdow').innerHTML = days;

		if (timeLeft < 0) {
			clearInterval(countdownTimer);
			document.getElementById('countdow').innerHTML =
				'The day has arrived!';
		}
	}

	updateCountdown();
	const countdownTimer = setInterval(updateCountdown, 86400000); // Update once per day
</script>
